[gd_scene load_steps=6 format=3 uid="uid://80d5oe7mym0k"]

[ext_resource type="PackedScene" uid="uid://d2buh5kxpgp5r" path="res://Objects/Characters/Character.tscn" id="1_07yf4"]
[ext_resource type="Script" path="res://Objects/Characters/Enemies/Enemy.gd" id="2_0n1fk"]
[ext_resource type="Script" path="res://Objects/Characters/Enemies/States/StateEnemyIdle.gd" id="3_c521b"]
[ext_resource type="Script" path="res://Objects/Characters/Enemies/States/StateEnemyPursue.gd" id="4_br72c"]
[ext_resource type="Script" path="res://Objects/Characters/Enemies/States/StateEnemyAttack.gd" id="5_g2lbk"]

[node name="Enemy" groups=["Enemy"] instance=ExtResource("1_07yf4")]
script = ExtResource("2_0n1fk")
drop_item = null
drop_items = Array[Array]([[]])
context_raycast_size = 8
attack_interval = 6.0
pursue_range = 3.0
attack_range = 1.0
flee_range = 2.0

[node name="ContextRaycasts" type="Node3D" parent="Pivot" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, 0)

[node name="MeshInstance3D" type="RayCast3D" parent="Pivot/ContextRaycasts" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
debug_shape_custom_color = Color(0.152941, 0.839216, 0, 1)

[node name="Idle" parent="StateMachine" index="0"]
script = ExtResource("3_c521b")
idle_duration = 2.0

[node name="IdleTimer" type="Timer" parent="StateMachine/Idle" index="0"]
one_shot = true

[node name="Pursue" type="Node" parent="StateMachine" index="2"]
script = ExtResource("4_br72c")

[node name="Attack" type="Node" parent="StateMachine" index="3"]
script = ExtResource("5_g2lbk")

[node name="Dead" parent="StateMachine" index="4"]
delay_before_process = 1.0

[node name="AttackTimer" type="Timer" parent="." index="3"]
one_shot = true
